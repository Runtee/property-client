<header class="p-5 mb-5">
    <div class="relative">
        <div class="absolute top-0 left-0">
            <button class="" (click)="back.emit()">
                <img class="" src="assets/images/arrow-square-left.svg">
            </button>
        </div>
        <h2 class="font-bold text-lg text-center">Preview</h2>
    </div>
</header>

<h2 class="px-5 text-sm font-bold mb-3" *ngIf="!isObjectEmpty(formDetails.image) || !isObjectEmpty(formDetails.video)">
    Media files
</h2>

<div class="pt-0 p-5 flex items-center justify-between gap-3 w-full mb-5"
    *ngIf="!isObjectEmpty(formDetails.image) || !isObjectEmpty(formDetails.video)">
    <img id="uploadedImage" src="" class="h-32 w-full basis-1/2" alt="" *ngIf="formDetails.image">

    <div class="w-full rounded-lg h-32 basis-1/2" style="position: relative;">
        <video class="h-full brightness-50 w-full" id="uploadedVideo"
            style="object-fit: cover; width: 100%; border-radius: 0.5rem;"></video>
        <img src="assets/images/play-cricle.svg"
            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 50px; height: 50px;">
    </div>
</div>

<div class="p-5 pt-0 font-medium">
    <h2 class="text-sm font-bold mb-3">
        Personal Details
    </h2>
    <div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="basis-1/2">
                <h3 class="text-xs text-gray-500 mb-1">Email</h3>
                <h3 class="text-xs text-black">{{ formDetails?.email }}</h3>
            </div>
            <div class="basis-1/2">
                <h3 class="text-xs text-gray-500 mb-1">Number</h3>
                <h3 class="text-xs text-black">{{ formDetails?.number }}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Name</h3>
                <h3 class="text-xs text-black">{{ formDetails?.name }}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Address</h3>
                <h3 class="text-xs text-black">{{ formDetails?.address }}</h3>
            </div>
        </div>
    </div>
</div>

<div class="p-5 pt-0 font-medium">
    <h2 class="text-sm font-bold mb-3">
        Property Details
    </h2>
    <div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Title</h3>
                <h3 class="text-xs text-black">{{ formDetails?.title }}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Location</h3>
                <h3 class="text-xs text-black">{{ formDetails?.location }}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Description</h3>
                <h3 class="text-xs text-black">{{ formDetails?.description }}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="basis-1/2">
                <h3 class="text-xs text-gray-500 mb-1">Category</h3>
                <h3 class="text-xs text-black">{{ formDetails?.category }}</h3>
            </div>
            <div class="basis-1/2">
                <h3 class="text-xs text-gray-500 mb-1">Price</h3>
                <h3 class="text-xs text-black">{{ formDetails?.price }}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="basis-1/2">
                <h3 class="text-xs text-gray-500 mb-1">City</h3>
                <h3 class="text-xs text-black">{{ formDetails?.city }}</h3>
            </div>
            <div class="basis-1/2">
                <h3 class="text-xs text-gray-500 mb-1">State</h3>
                <h3 class="text-xs text-black">{{ formDetails?.state }}</h3>
            </div>
        </div>
    </div>
</div>
<div class="p-5 pt-0 font-medium" *ngIf="formDetails?.cloningEnabled">
    <div class="flex items-center mb-3">
        <h2 class="text-sm font-bold mr-3">
            Cloning Details
        </h2>
        <div class="text-sm text-gray-500 font-semibold">{{formDetails.cloningPercentage}}%</div>
    </div>
    <div class="text-xs font-semibold">
        Type
    </div>
    <div>

        <button type="button" class="flex gap-5 w-full" *ngIf="formDetails.cloningType=='public'">
            <img src="assets/images/people.svg" class="">
            <div class="" class="text-main-dark">
                <h2 class="font-bold text-sm text-left">Public Cloning</h2>
                <h2 class="text-xs">Anybody can clone this ad</h2>
            </div>
        </button>
        <button type="button" class="flex justify-between w-full items-center mb-5"
            *ngIf="formDetails.cloningType=='private'">
            <div class="flex gap-5">
                <img src="assets/images/user-add-2.svg" class="">
                <div class="" class="text-main-dark">
                    <h2 class="font-bold text-sm text-left">Specific people</h2>
                </div>
            </div>
        </button>

        <div class="w-full px-3 py-2 h-32 border border-main-dark rounded-2xl"
            *ngIf="formDetails.cloningType=='private'">

        </div>
    </div>
</div>
<div class="p-5 pt-0 font-medium">
    <h2 class="text-sm font-bold mb-5">
        Account Details
    </h2>

    <div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Account Name</h3>
                <h3 class="text-xs text-black">{{formDetails.accountName}}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Account Number</h3>
                <h3 class="text-xs text-black">{{formDetails.accountNumber}}</h3>
            </div>
        </div>
        <div class="mb-3 flex justify-between gap-2 w-full">
            <div class="">
                <h3 class="text-xs text-gray-500 mb-1">Bank Name</h3>
                <h3 class="text-xs text-black">{{formDetails.bankName}}</h3>
            </div>
        </div>
    </div>
</div>
<div class="p-5">

    <button type="button" (click)="upload()"
        class="w-full mt-5 text-sm text-center py-3 border rounded-md font-bold bg-main-dark text-white border-main-dark">
        Upload
    </button>
</div>
<div *ngIf="isModal" class="fixed top-0 right-0 bottom-0 left-0 bg-black opacity-50 z-40"></div>

<div class="absolute top-1/2 left-1/2 z-50" *ngIf="isModal && isLoading">
    <div class="animate-spin inline-block size-7 border-[3px] border-current border-t-transparent text-main-dark rounded-full"
        role="status" aria-label="loading">
        <span class="sr-only">Loading...</span>
    </div>
</div>

<!--modal-->
<div id="popup-modal" tabindex="-1" *ngIf="isModal && rSuccess"
    class="flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative p-4 py-10 w-full max-w-md max-h-[400px]">
        <div class="relative bg-white rounded-lg shadow">
            <div class="p-4 md:p-5 text-center flex flex-col items-center justify-center">
                <img src="assets/images/Group 418.svg" class="mb-3" alt="">
                <h2 class="font-bold text-xl text-main-dark mb-10">Upload Succesful!!</h2>
                <button
                    class="py-2 w-20 text-center font-bold bg-main-dark border-main-dark text-white rounded" routerLink="/profile">Done</button>
            </div>
        </div>
    </div>
</div>

<!--modal-->
<div id="popup-modal" tabindex="-1" *ngIf="isModal && rError"
    class="flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative p-4 py-10 w-full max-w-md max-h-[400px]">
        <div class="relative bg-white rounded-lg shadow">
            <div class="p-4 md:p-5 text-center flex flex-col items-center justify-center">
                <img src="assets/images/Group 419.svg" class="mb-3" alt="">
                <h2 class="font-medium text-xl text-main-dark mb-10">Something went <span class="text-red-500 font-bold">wrong!!!</span> </h2>
                <button
                    class="py-2 w-40 text-center font-bold bg-white border mb-5 border-main-dark text-main-dark rounded" (click)="upload()">Retry</button>
                    <button
                    class="py-2 w-40 text-center font-bold bg-main-dark border border-main-dark text-white rounded" (click)="closeModal()">Cancel</button>
            </div>
        </div>
    </div>
</div>