<div  *ngIf="showSearch">
<div class="flex gap-2 items-center py-5 justify-between px-5">
    <div class="rounded-3xl border-main-dark border flex p-2 items-center w-full">
        <img src="assets/images/search-normal.svg" class="w-6 h-6" alt="search-icon">
        <input class="w-full outline-none rounded-r-xl pl-3 bg-transparent placeholder:font-semibold" type="text"
       placeholder="Search" (click)="onInputClick()" (keyup)="onKeyUp($event)" autofocus
       [(ngModel)]="searchTerm"
       (keydown.enter)="onSearch($event)" />
    </div>
    <div class="flex gap-1">
        <button class="border-0">
            <img src="assets/images/sort.svg" class="w-6 h-6" alt="sort" />
        </button>
        <button (click)="openFilterScreen()">
            <img src="assets/images/filter.svg" class="w-6 h-6" alt="filter" >
        </button>
    </div>
</div>  

<!-- when the search input is selected this is what is shown , the history-->

<div class="px-5" *ngIf="showHistory">
    <h2 class="text-sm text-gray-500 font-bold flex items-center gap-2 py-2">
        <img src="assets/images/history.svg" class="">
        History
    </h2>
    <ul class="text-xm font-medium" *ngFor="let history of searchHistory">
        <li class="pl-[33px] p-2 text-xs">
            {{history}}
        </li>
    </ul>
</div>

<!-- search suggestion -->

<div class="px-5" *ngIf="showSuggestions && (searchResults.length == 0)">
    <ul class="text-xm font-medium" *ngFor="let suggestion of suggestions">
        <li class="pl-[33px] p-2 text-xs">
            {{suggestion}}
        </li>
    </ul>
</div>


<!-- search results -->
<div *ngIf="searchResults.length > 0">
    <div class="px-5 mb-2">
        <h2 class="text-xs text-gray-500">Showing results for ”<span class="font-bold text-black">10 Storey</span>”</h2>
    </div>
    <div class="px-5 flex-col gap-2 w-full">

        <!-- the card -->
        <div class="flex bg-white gap-2 border rounded-xl p-1 w-full" *ngFor="let result of searchResults">
            <div class="h-20 w-16">
                <img src="assets/images/Rectangle 593.png" class="h-full rounded-xl" width="80">
            </div>
            <div class="w-full">
                <h2 class="text-sm font-bold">{{result.title}}</h2>
                <div class="flex items-center py-1">
                    <img src="assets/images/location.svg" class="w-3 h-3" alt="location">
                    <span class="text-xs text-main-dark">{{result.location}}</span>
                </div>
                <h4 class="text-main-dark font-bold text-sm">{{result.price | currency}}</h4>
                <div class="flex items-center gap-1">
                    <div class="flex items-center bg-gradient-to-l from-black to-[#000000BF] p-1">
                        <img src="assets/images/personalcard.svg" class="w-3 h-3">
                        <span class="text-xs font-bold text-white">C<span class="text-[8px]">of</span>O</span>
                    </div>
                    <div class="flex items-center bg-gradient-to-l from-main-dark to-[#7A2D9380] p-1">
                        <img src="assets/images/personalcard.svg" class="w-3 h-3">
                        <span class="text-xs font-bold text-white">KYC</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</div>
<!-- search filter -->

<div class="mb-24" *ngIf="showFilter">
    <header class="p-5 mb-10">
        <div class="relative">
            <div class="absolute top-0 left-0">
                <!-- back icon -->
                <button class="" (click)="closeFilterScreen()">
                    <img class="" src="assets/images/arrow-square-left.svg">
                  </button>
            </div>
            <h2 class="font-bold text-lg text-center">Filter</h2>
        </div>
    </header>

    <div class="px-5">
        <form (ngSubmit)="applyFilter()" #filterForm="ngForm">
        <div class="mb-8">
            <div class="flex justify-between items-center mb-2">
                <h3 class="text-sm font-semibold">Category</h3>
                <img src="assets/images/arrow-right.svg" class="">
            </div>

            <!-- dropdown for category -->
            <div class="">
                <div class="flex justify-between items-center w-full">
                    <h2 class="text-[13px] font-medium">Land</h2>
                    <input name="name" type="checkbox">
                </div>
                <div class="flex justify-between items-center w-full">
                    <h2 class="text-[13px] font-medium">Real Estate</h2>
                    <input name="name" type="checkbox">
                </div>
                <div class="flex justify-between items-center w-full">
                    <h2 class="text-[13px] font-medium">Rent</h2>
                    <input name="name" type="checkbox">
                </div>
            </div>
        </div>
        <div class="w-full h-[1px] border border-gray-400 border-opacity-50 mb-8"></div>
        <div class="mb-8">
            <h3 class="text-sm font-semibold mb-5">Price</h3>
            <div class="flex justify-between gap-3 mb-5">
                <div class="w-full">
                    <h3 class="text-[13px] font-medium">
                        Min
                    </h3>
                    <input class="bg-white text-xs px-3 py-3 w-full border rounded-md">
                </div>
                <div class="w-full">
                    <h3 class="text-[13px] font-medium">
                        Max
                    </h3>
                    <input class="bg-white text-xs px-3 py-3 w-full border rounded-md">
                </div>
            </div>
            <div class="">
                <input type="range" class="w-full text-main-dark">
            </div>
        </div>
        <div class="w-full h-[1px] border border-gray-400 border-opacity-50 mb-8"></div>
        <div class="flex justify-between items-center mb-8">
            <h3 class="text-sm font-semibold">Location</h3>
            <img src="assets/images/arrow-right.svg" class="">
        </div>
        <div class="w-full h-[1px] border border-gray-400 border-opacity-50 mb-8"></div>
        <div class="">
            <h3 class="text-sm font-semibold mb-1">Badges</h3>
            <div class=" gap-3 mb-5">
                <div class="w-full flex justify-between mb-1">
                    <h3 class="text-[13px] font-medium">
                        Kyc
                    </h3>
                    <input type="checkbox" class="bg-white text-xs px-3 py-3 border border-main-dark rounded-md">
                </div>
                <div class="w-full flex justify-between mb-1">
                    <h3 class="text-[13px] font-medium">
                        CofO
                    </h3>
                    <input type="checkbox" class="bg-white text-xs px-3 py-3 border border-main-dark rounded-md">
                </div>
                <div class="w-full flex justify-between mb-1">
                    <h3 class="text-[13px] font-medium">
                        Doxxed
                    </h3>
                    <input type="checkbox" class="bg-white text-xs px-3 py-3 border border-main-dark rounded-md">
                </div>
            </div>
        </div>
        <div class="mt-8 flex gap-3">
            <button type="button" class="bg-main-light text-slate-700 font-bold text-sm rounded-lg px-4 py-2" (click)="resetFilter()">Reset</button>
            <button class="bg-main-dark text-slate-100 font-bold text-sm rounded-lg px-4 py-2">Filter</button>
        </div>
        </form>
    </div>
    
</div>

<app-fab></app-fab>

