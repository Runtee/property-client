<div class="py-5">
    <app-topbar item="Change Password"></app-topbar>
    <div class="mt-20 px-5">
        <h2 class="text-gray-500 text-base mb-4 font-semibold">Enter your new password</h2>
    </div>
    <div class="mt-10 px-5">
        <form (ngSubmit)="changePasswordFormSubmit(changePasswordForm)" #changePasswordForm="ngForm">
            <div class="mb-3">
                <label class="text-sm font-medium mb-2" for="oldPassword">
                    Old Password
                </label>
                <div class="flex border rounded-lg border-main-light bg-white  px-1 py-1 items-center">
                    <input id="oldPassword" class="w-full text-sm py-2 px-2 outline-none" name="oldPassword"
                        placeholder="" type="{{ oldPasswordVisible ? 'text' : 'password' }}" ngModel required>
                    <button type="button" (click)="togglePasswordVisibility('oldPassword')">
                        <img src="assets/images/eye.svg" class="w-5 h-5  cursor-pointer">
                    </button>
                </div>
                <div class="text-red-500 text-xs mt-1"
                    *ngIf="changePasswordForm.controls['oldPassword'].hasError('required') && changePasswordForm.controls['oldPassword'].touched">
                    Old Password is required.
                </div>
            </div>

            <!-- New Password -->
            <div class="mb-3">
                <label class="text-sm font-medium mb-3" for="newPassword">New Password</label>
                <div class="flex border rounded-lg border-main-light bg-white px-1 py-1 items-center">
                    <input id="newPassword" class="w-full text-sm py-2 px-2 outline-none" name="newPassword"
                        placeholder="" type="{{ newPasswordVisible ? 'text' : 'password' }}" [(ngModel)]="changePasswordForm.value.newPassword" />
                    <button type="button" (click)="togglePasswordVisibility('newPassword')">
                        <img src="assets/images/eye.svg" class="w-5 h-5" />
                    </button>
                </div>
                <div *ngIf="isFormSubmitted && formErrors['newPassword']" class="text-red-500 text-xs mt-1">
                    {{ formErrors['newPassword'] }}
                </div>
            </div>

            <!-- Confirm Password -->
            <div class="mb-3">
                <label class="text-sm font-medium mb-3" for="confirmPassword">Re-enter Password</label>
                <div class="flex border rounded-lg border-main-light bg-white px-1 py-1 items-center">
                    <input id="confirmPassword" class="w-full text-sm py-2 px-2 outline-none" name="confirmPassword"
                        placeholder="" type="{{ confirmPasswordVisible ? 'text' : 'password' }}"
                        [(ngModel)]="changePasswordForm.value.confirmPassword" />
                    <button type="button" (click)="togglePasswordVisibility('confirmPassword')" class="cursor-pointer">
                        <img src="assets/images/eye.svg" class="w-5 h-5" />
                    </button>
                </div>
                <div *ngIf="isFormSubmitted && formErrors['confirmPassword']" class="text-red-500 text-xs mt-1">
                    {{ formErrors['confirmPassword'] }}
                </div>
            </div>
            <div class="flex flex-col gap-4 mt-10">

                <button type="button"
                    class="w-full text-center py-3 border rounded-lg font-bold bg-main-dark text-white border-main-dark"
                    (click)="changePasswordFormSubmit(changePasswordForm)">
                    Change Password
                </button>
            </div>
        </form>
    </div>
</div>
